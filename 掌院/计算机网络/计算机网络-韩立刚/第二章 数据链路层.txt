数据链路层使用的信道;

     点对点信道：一对一的点对点通信方式
：
     广播信道：一对多的广播通信方式

     网卡（适配器）：实现协议。一般的适配器都包括了数据链路层和物理层的两层功能

数据链路层传送的是帧：数据链路层 给数据报 加上帧头 帧尾 校验值




数据链路层解决的三个问题：

                  封装成帧;标记数据报的开始和结束，如果数据部分和 标记重复 ，链路层就会在重复数据加上ESC标记（16进制1B）

                  透明传输：接收端链路层 去除标记 送往网络层 

                  差错控制：传输过程中可能产生比特差错，出错比特占总数的比值成为误码率，其与信噪比有很大的关系。因此，保证可靠性，必须设置差错检测措施。

                            传输过程中发现错误，就会直接扔掉帧，然后接收端传输层会要求重传（纠错，可靠传输)，路由器并不会要求重传

                      检测原理：帧检验序列（FCS）：循环冗余检验（CRC）

                        接收端：计算余数为0，则无误

                      CRC并不能检测哪位出错，而且可能出现有错无法检测，当除数位数增加，检测能力越强


点到点的数据链路层：PPP （广域网 路由器到路由器)


     ADSL猫到电信（ISP），中间没有别的设备。用户使用电话线介入因特网时。
     采用PPP协议


      三个组成部分：网络控制协议（NCP）允许使用多种网络层协议

                    LCP（链路控制协议），建立并维护数据链路连接    实名验证
          
                    高级链路控制协议 HDLC

                  

                    用于异步、同步串行介质
     PPP帧格式

          首部：
              1.标志字段F: 7E  1个字节
              2.地址字段A：FF  1个字节
              3.控制字段C：03  1个字节
              4.协议           2个字节
          IP数据报：     
              5.Ip数据报       不超过1500字节
          尾部：
              6.FCS帧检验序列  2个字节
              7.标志字段F: 7E  1个字节

     实现无差错接受


广播信道的数据链路层：局域网 以太网


   以太网使用协议：CSMA/CD 载波监听多点接入  只能半双工


    碰撞检测：总线型 集线器型

    最短有效帧：64节

    以太网网线100米，过长影响冲突检测

    避免冲突机制：二进制指数类型退避算法

   以太网：不可靠的交付


    集线器 带宽共享 10M都是10M 工作在物理层的傻瓜设备
  

MAC地址 48位 前24位代表厂家      


修改mac地址：

    查看mac config /all
    本地连接--》属性--》配置--》高级--》NetworkAddress
    F8-0F-41-2D-78-AB   
    通过注册表 更改 F80F412D78BB      

    注册表 查看 regedit 

适配器检查MAC地址

  三种帧：单播，广播，多播      

以太网MAC帧：
           1.目的地址 6
           2.原地址   6
           3.类型     2          指明数据里的类型，如ip
           4.数据     46-1500
           5.FCS      4

无效MAC帧：

         1.帧的长度不是整数个字节
         2.FCS检验出错误
         3.数据字段的长度不在46-1500字节
         4.有效的MAC帧长度64-1518字节


扩展以太网：

   光纤
   集线器级联  冲突域变大
   网桥：优化了以太网 
   交换机 前身网桥 交换机口能存储数据帧 全双工 带宽独享 安全 基于mac地址  能够学习mac表

100M以太网 全双工  不使用载波监听多路访问协议
                    